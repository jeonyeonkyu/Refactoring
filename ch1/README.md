## 리팩터링 단계

### v2

- statement 함수 쪼개기

  - switch case 문을 `amountFor`라는 함수로 분리하기
  - 리턴하는 변수명을 `result` 로 하게되면 변수의 역할을 쉽게 알 수 있다
  - 매개변수의 역할이 뚜렷하지 않을때는 변수 앞에 부정관사 (a/an)을 붙인다

- 변수 인라인하기
  - 변수 자체로 주변코드를 리팩터링하는데 방해가 되기도함
  - 변수를 함수호출로 대체한다
  - `play`변수 제거 후 `playFor`함수 호출로 대체
  - amountFor에서 필요없어진 `play`매개변수 제거 후 `playFor` 함수로 대체
  - 주목할 점
    - 변수를 함수호출로 대체함으로 인해 json을 3번 이상 조회하게 된다
    - 하지만 느려지더라도 제대로 리팩터링 된 코드는 그렇지 않은 코드보다 성능을 개선하기가 수월하다
